<!doctype html>
<html>
  <head>
    <title>videomail-client examples</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
  </head>
  <body>
    <h1>Attempt to get a snapshot of a non-existing videomail</h1>
    <p>This is how error responses are processed:</p>
    <div id="videomail"></div>
    <pre><code id="error"></code></pre>
    <script src="/js/videomail-client.js"></script>
    <script>
      var videomailClient = new VideomailClient.default({
        verbose: true,
        disableSubmit: true,
      });

      // TODO continue from here fix proper error response *superagent* huh?
      // BECAUSE ON VM SIDE, WE WANT TO SEE THE FULL ERROR MESSAGE WHICH GETS SWALLOWED ...
      // YOU CAN SEE THE MESSAGE IS BLURRIED, THE DETAILS SHOULD BE UNDER
      // THE DETAILS KEY IN THE JSON OBJECT
      videomailClient.get("i do not exist", function (err, videomail) {
        var errorEl = document.getElementById("error");
        errorEl.innerHTML = JSON.stringify(err, null, 4);
        console.error({ err });
      });
    </script>
  </body>
</html>
